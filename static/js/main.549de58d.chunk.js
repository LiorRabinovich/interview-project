(this["webpackJsonpinterview-project"]=this["webpackJsonpinterview-project"]||[]).push([[0],{15:function(e,t,n){e.exports={root:"SingleCard_root__38F9t",actions:"SingleCard_actions__1_1Kd"}},16:function(e,t,n){e.exports={root:"CardsList_root__1oU7w",error:"CardsList_error__3Ld5y"}},17:function(e,t,n){e.exports={root:"AppSelect_root__3JFaA",error:"AppSelect_error__12hmi"}},19:function(e,t,n){e.exports={root:"PostsList_root__maf2d"}},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),i=n(4),s=n(8),u=n(9),l=n(15),d=n.n(l),j=n(1);function p(e){var t=e.title,n=e.body,r=e.postIndex,a=e.like,c=void 0===a?0:a,o=e.dislike,i=void 0===o?0:o,s=e.handleLike,u=e.handleDislike;return Object(j.jsxs)("article",{className:d.a.root,children:[Object(j.jsxs)("div",{className:d.a.actions,children:[Object(j.jsxs)("button",{onClick:function(){return s(r)},children:[c," \ud83d\udc4d"]}),Object(j.jsxs)("button",{onClick:function(){return u(r)},children:[i," \ud83d\udc4e"]})]}),Object(j.jsx)("h3",{children:t}),Object(j.jsx)("p",{children:n})]})}var f=n(16),b=n.n(f);function g(e){var t=e.posts,n=e.error,a=e.loading,c=e.handleLike,o=e.handleDislike,i=e.pageSize,l=Object(r.useState)([]),d=Object(u.a)(l,2),f=d[0],g=d[1],h=Object(r.useState)(1),O=Object(u.a)(h,2),v=O[0],m=O[1];return Object(r.useEffect)((function(){g(t.slice(0,v*i))}),[t,v,i]),Object(r.useEffect)((function(){function e(){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)<function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}()-window.innerHeight||m((function(e){return e+1}))}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),a?Object(j.jsx)("div",{children:"Loading..."}):Object(j.jsxs)(r.Fragment,{children:[n?Object(j.jsxs)("div",{className:b.a.error,children:["Error: ",n]}):null,Object(j.jsx)("ul",{className:b.a.root,children:f.map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)(p,Object(s.a)(Object(s.a)({},e),{},{postIndex:t,handleLike:c,handleDislike:o}))},t)}))})]})}var h=n(17),O=n.n(h);function v(e){var t=e.active,n=e.items,r=e.loading,a=e.error,c=e.handleChange;return Object(j.jsxs)("fieldset",{className:O.a.root,children:[Object(j.jsxs)("select",{disabled:r||a,onChange:function(e){return c(e.target.value)},value:t,children:[Object(j.jsx)("option",{default:!0,children:"Select Language"}),n.map((function(e){var t=e.language;return Object(j.jsx)("option",{value:t,children:t},t)}))]}),a?Object(j.jsx)("div",{className:O.a.error,children:a}):null]})}var m=n(19),x=n.n(m),k=n(3),y=n(2),w=n.n(y),_=n(6),S=n(7),L="https://jsonplaceholder.typicode.com/posts";function N(){return(N=Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C,E="AIzaSyBzwS_8vW6SQKqSBamIrf_UWNOVAeuOfT0",I="https://translation.googleapis.com/language/translate/v2";function P(){return T.apply(this,arguments)}function T(){return(T=Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(I,"/languages?key=").concat(E));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return H.apply(this,arguments)}function H(){return(H=Object(_.a)(w.a.mark((function e(t,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(I,"?key=").concat(E),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:E,q:t,target:n})});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(_.a)(w.a.mark((function e(t,n){var r,a,c,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z([t.title,t.body],n);case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return a=r.data.translations,c=Object(u.a)(a,2),o=c[0],i=c[1],e.abrupt("return",Object(s.a)(Object(s.a)({},t),{},{title:o.translatedText,body:i.translatedText}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=Object(S.b)("posts/fetchPosts",(function(){return N.apply(this,arguments)})),J=Object(S.b)("posts/fetchTranslatePosts",function(){var e=Object(_.a)(w.a.mark((function e(t,n){var r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r().posts.items,e.next=4,Promise.all(a.map((function(e){return A(e,t)})));case 4:return c=e.sent,e.abrupt("return",{language:t,posts:c});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());function M(e){e.error=null,e.loading=!0}function B(e,t){var n=t.payload,r=t.error;e.loading=!1,e.error=(null===n||void 0===n?void 0:n.errorMessage)||r.message}var q,K=Object(S.c)({name:"posts",initialState:{loading:!1,error:null,language:"en",items:[],pageSize:10,displayItems:[]},reducers:{like:function(e,t){var n=t.payload,r=e.items[n].like,a=void 0===r?0:r;e.items[n].like=a+1},disLike:function(e,t){var n=t.payload,r=e.items[n].dislike,a=void 0===r?0:r;e.items[n].dislike=a+1}},extraReducers:(C={},Object(k.a)(C,F.pending,M),Object(k.a)(C,F.rejected,B),Object(k.a)(C,F.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.items=n})),Object(k.a)(C,J.pending,M),Object(k.a)(C,J.rejected,B),Object(k.a)(C,J.fulfilled,(function(e,t){var n=t.payload;e.loading=!1;var r=n.language,a=n.posts;e.language=r,e.items=a})),C)}),R=function(e){return e.posts.language},U=function(e){return e.posts.error},W=function(e){return e.posts.loading},Y=function(e){return e.posts.pageSize},Q=function(e){return e.posts.items},V=K.reducer,G=K.actions,X=Object(S.b)("languages/fetchLanguages",Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(!(t=e.sent).error){e.next=5;break}throw t.error;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),Z=Object(S.c)({name:"languages",initialState:{loading:!1,items:[],error:null},extraReducers:(q={},Object(k.a)(q,X.pending,(function(e){e.error=null,e.loading=!0})),Object(k.a)(q,X.rejected,(function(e,t){var n=t.payload,r=t.error;e.loading=!1,e.error=(null===n||void 0===n?void 0:n.errorMessage)||r.message})),Object(k.a)(q,X.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.items=n.data.languages})),q)}),$=function(e){return e.languages.items},ee=function(e){return e.languages.error},te=function(e){return e.languages.loading},ne=Z.reducer;function re(){var e=Object(i.c)(Q),t=Object(i.c)(Y),n=Object(i.c)(R),a=Object(i.c)(U),c=Object(i.c)(W),o=Object(i.c)($),s=Object(i.c)(ee),u=Object(i.c)(te),l=Object(i.b)();return Object(r.useEffect)((function(){l(F()),l(X())}),[l]),Object(j.jsxs)("section",{children:[Object(j.jsxs)("header",{className:x.a.root,children:[Object(j.jsx)("h2",{children:"Posts"}),Object(j.jsx)(v,{items:o,active:n,error:s,loading:u,handleChange:function(e){l(J(e))}})]}),Object(j.jsx)(g,{posts:e,error:a,loading:c,pageSize:t,handleLike:function(e){l(G.like(e))},handleDislike:function(e){l(G.disLike(e))}})]})}function ae(){return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:"Interview Project"})}),Object(j.jsx)("main",{className:"container",children:Object(j.jsx)(re,{})})]})}var ce=Object(S.a)({reducer:{languages:ne,posts:V}});n(32);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(i.a,{store:ce,children:Object(j.jsx)(ae,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.549de58d.chunk.js.map